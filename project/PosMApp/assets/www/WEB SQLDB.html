<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title></title>
<script>

//get default pic URL
var dpicURL = "";

function changeColor(td){
	//該当列がチェックしている状態、普通状態に戻る
	if(td.style.backgroundImage != dpicURL){
		td.style.backgroundImage = 'url(img/dpic.png)';
	}else{
	//該当列が普通状態、チェック状態になる
		resetTableColor();
		td.style.backgroundImage = 'url(img/tpic.png)'; 
	}
}

function getTpicURL(){
	var table = document.getElementById("table");
	dpicURL = table.rows[0].cells[0].style.backgroundImage;
}

function resetTableColor(){
	var tds = document.getElementsByTagName("td");
	for(var i=0;i<tds.length;i++){
			tds[i].style.backgroundImage = 'url(img/dpic.png)';
	}
}

</script>
</head>
<body onload="getTpicURL()">
id:<input type="text" id="id"></input>
context:<input type="text" id="context"></input>
<button onclick="test()">Insert</button>
<div id="message"></div>
<table id="table" width = "200" cellspacing="10">
<tr>
	<td style="background-image: url(img/dpic.png);text-align:center;background-size:contain;background-position:50% 50%;background-repeat:no-repeat;" onclick=changeColor(this)>1</td>
	<td style="background-image: url(img/dpic.png);text-align:center;background-size:contain;background-position:50% 50%;background-repeat:no-repeat;" onclick=changeColor(this)>2</td>
</tr>
<tr>
	<td style="background-image: url(img/dpic.png);text-align:center;background-size:contain;background-position:50% 50%;background-repeat:no-repeat;" onclick=changeColor(this)>3</td>
	<td style="background-image: url(img/dpic.png);text-align:center;background-size:contain;background-position:50% 50%;background-repeat:no-repeat;" onclick=changeColor(this)>4</td>
</tr>
<tr>
	<td style="background-image: url(img/dpic.png);text-align:center;background-size:contain;background-position:50% 50%;background-repeat:no-repeat;" onclick=changeColor(this)>5</td>
	<td style="background-image: url(img/dpic.png);text-align:center;background-size:contain;background-position:50% 50%;background-repeat:no-repeat;" onclick=changeColor(this)>6</td>
</tr>
</table>
<button onclick="loadXMLFile()">ReadXML</button>
</body>
</html>
